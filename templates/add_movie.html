<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add Movie</title>
        <style>
        .alert { /* Basic alert styling - customize as needed */
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid transparent;
            border-radius: 4px;
        }
        .alert-danger {
            color: #a94442;
            background-color: #f2dede;
            border-color: #ebccd1;
        }
    </style>
</head>
<body>
    <h1>Add Movie</h1>

    {% with messages = get_flashed_messages(with_categories=true) %}  {# Get flashed messages #}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }}">  {{ message }} </div>  {# Display message #}
            {% endfor %}
        {% endif %}
    {% endwith %}

   <form method="post">
        <label for="name">Movie Title:</label>
        <input type="text" id="name" name="name" value="{{ movie_details.name or '' }}" required> <br> {# Pre-fill name #}

        <label for="director">Director:</label>
        <input type="text" id="director" name="director" value="{{ movie_details.director or '' }}"> <br> {# Pre-fill director #}

        <label for="year">Year</label>
        <input type="number" id="year" name="year" value="{{ movie_details.year or '' }}"> <br> {# Pre-fill year #}

        <label for="rating">Rating:</label>
        <input type="number" step="0.1" id="rating" name="rating" value="{{ movie_details.rating or '' }}"> <br> {# Pre-fill rating #}

        <label for="poster">Poster URL:</label>
        <input type="text" id="poster" name="poster" value="{{ movie_details.poster or '' }}"> <br> {# Pre-fill poster #}

        <input type="checkbox" name="fetch_from_api" id="fetch_from_api">
        <label for="fetch_from_api">Fetch from API</label><br>

        <button type="submit">Add Movie</button>
   </form>

    <a href="{{ url_for('list_user_movies', user_id=user_id) }}">Back to Movies</a>
</body>
</html>